import{d as y,c as l,a as n,b as w,e as v,f as c,g as d,u as p,I as u,t as h,o,_ as I,r as P,h as k,i as b,j,k as N,F as B}from"./index-CpcwO7Ud.js";const C={class:"border-t border-[--c-40]"},S={key:0,class:"flex flex-row justify-center px-24 max-w-prose mx-auto py-4"},V={key:1,class:"opacity-20 rounded-md text-center shadow-md flex flex-row border-1 items-center justify-center pr-4 pl-2"},F={class:"flex flex-grow text-center justify-center"},M={class:"border-2 text-xl font-bold opacity-70 w-fit px-2 rounded-lg"},$={key:3,class:"opacity-20 rounded-md text-center justify-center border-1 shadow-md flex flex-row items-center pl-4 pr-2"},z=y({__name:"Paginator",props:{pageInfo:{}},emits:["update:page"],setup(_,{emit:r}){const e=_,i=r,g=l(()=>e.pageInfo.current>1),m=l(()=>e.pageInfo.current<e.pageInfo.total),x=()=>{i("update:page",e.pageInfo.current-1)},s=()=>{i("update:page",e.pageInfo.current+1)};return(a,t)=>(o(),n("div",C,[a.pageInfo.total>1?(o(),n("div",S,[g.value?(o(),n("div",{key:0,class:"hover:bg-gray-100 rounded-md text-center shadow-md flex flex-row border-1 items-center justify-center pr-4 pl-2 cursor-pointer",onClick:x},[c(p(u),{width:"20",icon:"mingcute:left-fill","data-inline":"false"}),t[0]||(t[0]=d(" Prev "))])):(o(),n("div",V,[c(p(u),{width:"20",icon:"mingcute:left-fill","data-inline":"false"}),t[1]||(t[1]=d(" Prev "))])),v("div",F,[v("div",M,[v("p",null,h(a.pageInfo.current)+" / "+h(a.pageInfo.total),1)])]),m.value?(o(),n("div",{key:2,class:"hover:bg-gray-100 rounded-md text-center justify-center border-1 shadow-md flex flex-row items-center pl-4 pr-2 cursor-pointer",onClick:s},[t[2]||(t[2]=d(" Next ")),c(p(u),{width:"20",icon:"mingcute:right-fill","data-inline":"false"})])):(o(),n("div",$,[t[3]||(t[3]=d(" Next ")),c(p(u),{width:"20",icon:"mingcute:right-fill","data-inline":"false"})]))])):w("",!0)]))}}),A=I(z,[["__scopeId","data-v-cc2e897a"]]),f=10,E=y({__name:"Archives",setup(_){const r=P(1),e=k();console.log("111111111",e.posts.length);const i=l(()=>e.posts.length>f),g=l(()=>{const s=(r.value-1)*f,a=s+f;return e.posts.slice(s,a)}),m=l(()=>({current:r.value,total:Math.ceil(e.posts.length/f)})),x=s=>{r.value=s};return b(async()=>{await e.fetchPosts(),console.log("mount done")}),(s,a)=>(o(),n(B,null,[c(N,{posts:g.value},null,8,["posts"]),i.value?(o(),j(A,{key:0,pageInfo:m.value,"onUpdate:page":x},null,8,["pageInfo"])):w("",!0)],64))}});export{E as default};
